{"name":"Elasticsearch Datasource for CakePHP","tagline":"ES REST api plugin","body":"## API Documentation\r\n\r\nCheck out [ElasticsearchSource API Documentation](http://imsamurai.github.io/CakePHP-ElasticsearchSource-Datasource/docs/master/)\r\n\r\n## Abstract\r\n\r\n[![Build Status](https://travis-ci.org/imsamurai/CakePHP-ElasticsearchSource-Datasource.png)](https://travis-ci.org/imsamurai/CakePHP-ElasticsearchSource-Datasource) [![Coverage Status](https://coveralls.io/repos/imsamurai/CakePHP-ElasticsearchSource-Datasource/badge.png?branch=master)](https://coveralls.io/r/imsamurai/CakePHP-ElasticsearchSource-Datasource?branch=master) [![Latest Stable Version](https://poser.pugx.org/imsamurai/elasticsearch-source/v/stable.png)](https://packagist.org/packages/imsamurai/elasticsearch-source) [![Total Downloads](https://poser.pugx.org/imsamurai/elasticsearch-source/downloads.png)](https://packagist.org/packages/imsamurai/elasticsearch-source) [![Latest Unstable Version](https://poser.pugx.org/imsamurai/elasticsearch-source/v/unstable.png)](https://packagist.org/packages/imsamurai/elasticsearch-source) [![License](https://poser.pugx.org/imsamurai/elasticsearch-source/license.png)](https://packagist.org/packages/imsamurai/elasticsearch-source)\r\n\r\n\r\nCakePHP ElasticsearchSource is DataSource Plugin  for [Elasticsearch](http://www.elasticsearch.org/)\r\n\r\n## Installation\r\n\r\n### Step 1: Clone or download [HttpSource](https://github.com/imsamurai/cakephp-httpsource-datasource)\r\n\r\n### Step 2: Clone or download to `Plugin/ElasticsearchSource`\r\n\r\n  cd my_cake_app/app git://github.com/imsamurai/CakePHP-ElasticsearchSource-Datasource.git Plugin/ElasticsearchSource\r\n\r\nor if you use git add as submodule:\r\n\r\n\tcd my_cake_app\r\n\tgit submodule add \"git://github.com/imsamurai/CakePHP-ElasticsearchSource-Datasource.git\" \"app/Plugin/ElasticsearchSource\"\r\n\r\nthen update submodules:\r\n\r\n\tgit submodule init\r\n\tgit submodule update\r\n\r\n### Step 3: Add your configuration to `database.php` and set it to the model\r\n\r\n```\r\n:: database.php ::\r\n```\r\n```php\r\npublic $elasticsearch = array(\r\n  'datasource' => 'ElasticsearchSource.Http/ElasticsearchSource',\r\n  'host' => 'example.com',\r\n  'port' => 'some port'\r\n);\r\npublic $elasticsearchTest = array(\r\n  'datasource' => 'ElasticsearchSource.Http/ElasticsearchSource',\r\n  'host' => 'localhost',\r\n  'prefix' => '',\r\n  'port' => 9200,\r\n  'timeout' => 5\r\n);\r\n```\r\nThen make model\r\n\r\n```\r\n:: Elasticsearch.php ::\r\n```\r\n```php\r\npublic $useDbConfig = 'elasticsearch';\r\npublic $useTable = '<desired endpoint, for ex: \"_search\">';\r\n```\r\n\r\n### Step 4: Load plugin\r\n\r\n```\r\n:: bootstrap.php ::\r\n```\r\n```php\r\nCakePlugin::load('HttpSource', array('bootstrap' => true, 'routes' => false));\r\nCakePlugin::load('ElasticsearchSource');\r\n```\r\n##Tests\r\n\r\nTo run tests add and fill $elasticsearchTest in `database.php`\r\n\r\n##Usage\r\n\r\nYou can use elasticsearch almost as db tables:\r\n```php\r\n$this->Elasticsearch->setSource('search');\r\n\t$params = array(\r\n\t\t'conditions' => array(\r\n\t\t\t'query' => array(\r\n\t\t\t\t\"term\" => array(\"title\" => \"apple\")\r\n\t\t\t)\r\n\t\t),\r\n\t\t'fields' => array('title', 'rank'),\r\n\t\t'order' => array('rank' => 'desc'),\r\n\t\t'offset' => 2\r\n\t);\r\n\r\n$result = $this->Elasticsearch->find('first', $params);\r\n```\r\n\r\n##HttpSource Documentation\r\n\r\nPlease read [HttpSource Plugin documentation](http://imsamurai.github.io/cakephp-httpsource-datasource/)","google":"UA-54309823-1","note":"Don't delete this file! It's used internally to help with page regeneration."}